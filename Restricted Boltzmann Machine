<p class=""><br></p><p class=""><br></p><p class=""></p><p class="">The probability distribution of a MRF <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics>
<mstyle displaystyle="true">
  <mi>X</mi>
  <mo>=</mo>
  <mrow>
    <mo>{</mo>
    <msub>
      <mi>X</mi>
      <mi>v</mi>
    </msub>
    <mo>}</mo>
  </mrow>
</mstyle>
<annotation encoding="math/asciimath">X = {X_v}</annotation></semantics></math> on an undirected graph <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics>
<mstyle displaystyle="true">
  <mi>G</mi>
  <mo>=</mo>
  <mrow>
    <mo>(</mo>
    <mi>V</mi>
    <mo>,</mo>
    <mi>E</mi>
    <mo>)</mo>
  </mrow>
</mstyle>
<annotation encoding="math/asciimath">G = (V, E)</annotation></semantics></math>:<br><br></p><p class=""></p><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow>
  <mi>P</mi>
  <mo stretchy="false">(</mo>
  <mi>x</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <mfrac>
      <mn>1</mn>
      <mi>Z</mi>
    </mfrac>
  </mrow>
  <munder>
    <mo>∏<!-- ∏ --></mo>
    <mi>c</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <msub>
      <mi>ψ<!-- ψ --></mi>
      <mi>c</mi>
    </msub>
    <mo stretchy="false">(</mo>
    <msub>
      <mi>x</mi>
      <mi>c</mi>
    </msub>
    <mo stretchy="false">)</mo>
  </mrow>
  <mo>,</mo>
  <mi>Z</mi>
  <mo>=</mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <msup>
        <mi>x</mi>
        <mo>′</mo>
      </msup>
    </mrow>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <munder>
      <mo>∏<!-- ∏ --></mo>
      <mi>c</mi>
    </munder>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>ψ<!-- ψ --></mi>
        <mi>c</mi>
      </msub>
      <mo stretchy="false">(</mo>
      <msub>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>x</mi>
            <mo>′</mo>
          </msup>
        </mrow>
        <mi>c</mi>
      </msub>
      <mo stretchy="false">)</mo>
    </mrow>
  </mrow>
  <mspace linebreak="newline"></mspace>
  <mi>P</mi>
  <mo stretchy="false">(</mo>
  <mi>x</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <mfrac>
      <mn>1</mn>
      <mi>Z</mi>
    </mfrac>
  </mrow>
  <msup>
    <mi>e</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <mi>l</mi>
      <mi>n</mi>
      <mspace width="thinmathspace"></mspace>
      <mrow class="MJX-TeXAtom-ORD">
        <munder>
          <mo>∏<!-- ∏ --></mo>
          <mi>c</mi>
        </munder>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>ψ<!-- ψ --></mi>
            <mi>c</mi>
          </msub>
          <mo stretchy="false">(</mo>
          <msub>
            <mi>x</mi>
            <mi>c</mi>
          </msub>
          <mo stretchy="false">)</mo>
        </mrow>
      </mrow>
    </mrow>
  </msup>
  <mo>=</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <mfrac>
      <mn>1</mn>
      <mi>Z</mi>
    </mfrac>
  </mrow>
  <msup>
    <mi>e</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mi>c</mi>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <mi>l</mi>
        <mi>n</mi>
        <mspace width="thinmathspace"></mspace>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>ψ<!-- ψ --></mi>
            <mi>c</mi>
          </msub>
          <mo stretchy="false">(</mo>
          <msub>
            <mi>x</mi>
            <mi>c</mi>
          </msub>
          <mo stretchy="false">)</mo>
        </mrow>
      </mrow>
    </mrow>
  </msup>
  <mspace linebreak="newline"></mspace>
  <mi>P</mi>
  <mo stretchy="false">(</mo>
  <mi>x</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <mfrac>
      <mn>1</mn>
      <mi>Z</mi>
    </mfrac>
  </mrow>
  <msup>
    <mi>e</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <mo>−<!-- − --></mo>
      <mi>E</mi>
      <mo stretchy="false">(</mo>
      <mi>x</mi>
      <mo stretchy="false">)</mo>
    </mrow>
  </msup>
  <mo>=</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <mfrac>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>x</mi>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
      <mrow>
        <munder>
          <mo>∑<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <msup>
              <mi>x</mi>
              <mo>′</mo>
            </msup>
          </mrow>
        </munder>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>−<!-- − --></mo>
            <mi>E</mi>
            <mo stretchy="false">(</mo>
            <msup>
              <mi>x</mi>
              <mo>′</mo>
            </msup>
            <mo stretchy="false">)</mo>
          </mrow>
        </msup>
      </mrow>
    </mfrac>
  </mrow>
  <mo>,</mo>
  <mi>E</mi>
  <mo stretchy="false">(</mo>
  <mi>x</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>c</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <mi>l</mi>
    <mi>n</mi>
    <mspace width="thinmathspace"></mspace>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>ψ<!-- ψ --></mi>
        <mi>c</mi>
      </msub>
      <mo stretchy="false">(</mo>
      <msub>
        <mi>x</mi>
        <mi>c</mi>
      </msub>
      <mo stretchy="false">)</mo>
    </mrow>
  </mrow>
  <mspace linebreak="newline"></mspace>
</mrow><annotation encoding="math/tex">P(x) = {1 \over Z} \prod_c {\psi_c(x_c)}, Z = \sum_{x'} {\prod_c {\psi_c({x'}_c)}} \\
P(x) = {1 \over Z} e^{ln \, {\prod_c {\psi_c(x_c)}}} = {1 \over Z} e^{\sum_c {ln \, {\psi_c(x_c)}}} \\
P(x) = {1 \over Z} e^{-E(x)} = {e^{-E(x)} \over \sum_{x'} e^{-E(x')}}, E(x) = -\sum_c {ln \, {\psi_c(x_c)}} \\</annotation></semantics></math></div><p class="" style="">We have:</p><p class=""></p><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow>
  <mi>p</mi>
  <mo stretchy="false">(</mo>
  <mi>v</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <mi>h</mi>
    </mrow>
  </munder>
  <mi>p</mi>
  <mo stretchy="false">(</mo>
  <mi>v</mi>
  <mo>,</mo>
  <mi>h</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <mi>h</mi>
    </mrow>
  </munder>
  <mfrac>
    <msup>
      <mi>e</mi>
      <mrow class="MJX-TeXAtom-ORD">
        <mo>−<!-- − --></mo>
        <mi>E</mi>
        <mo stretchy="false">(</mo>
        <mi>v</mi>
        <mo>,</mo>
        <mi>h</mi>
        <mo stretchy="false">)</mo>
      </mrow>
    </msup>
    <mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
    </mrow>
  </mfrac>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>h</mi>
        </mrow>
      </munder>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
    </mrow>
    <mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
    </mrow>
  </mfrac>
</mrow><annotation encoding="math/tex">p(v)=\sum_{h}p(v,h)=\sum_{h}\frac{e^{-E(v,h)}}{\sum_{v',h'}e^{-E(v',h')}}=\frac{\sum_{h}e^{-E(v,h)}}{\sum_{v',h'}e^{-E(v',h')}}</annotation></semantics></math></div><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow>
  <mi>p</mi>
  <mo stretchy="false">(</mo>
  <mi>h</mi>
  <mrow class="MJX-TeXAtom-ORD">
    <mo stretchy="false">|</mo>
  </mrow>
  <mi>v</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mi>p</mi>
      <mo stretchy="false">(</mo>
      <mi>h</mi>
      <mo>,</mo>
      <mi>v</mi>
      <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
      <mi>p</mi>
      <mo stretchy="false">(</mo>
      <mi>v</mi>
      <mo stretchy="false">)</mo>
    </mrow>
  </mfrac>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <mi>p</mi>
      <mo stretchy="false">(</mo>
      <mi>v</mi>
      <mo>,</mo>
      <mi>h</mi>
      <mo stretchy="false">)</mo>
    </mrow>
    <mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <mi>p</mi>
      <mo stretchy="false">(</mo>
      <mi>v</mi>
      <mo>,</mo>
      <msup>
        <mi>h</mi>
        <mo>′</mo>
      </msup>
      <mo stretchy="false">)</mo>
    </mrow>
  </mfrac>
  <mo>=</mo>
  <mfrac>
    <mfrac>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
      <mrow>
        <munder>
          <mo>∑<!-- ∑ --></mo>
          <mrow class="MJX-TeXAtom-ORD">
            <msup>
              <mi>v</mi>
              <mo>″</mo>
            </msup>
            <mo>,</mo>
            <msup>
              <mi>h</mi>
              <mo>″</mo>
            </msup>
          </mrow>
        </munder>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>−<!-- − --></mo>
            <mi>E</mi>
            <mo stretchy="false">(</mo>
            <msup>
              <mi>v</mi>
              <mo>″</mo>
            </msup>
            <mo>,</mo>
            <msup>
              <mi>h</mi>
              <mo>″</mo>
            </msup>
            <mo stretchy="false">)</mo>
          </mrow>
        </msup>
      </mrow>
    </mfrac>
    <mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <mfrac>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>−<!-- − --></mo>
            <mi>E</mi>
            <mo stretchy="false">(</mo>
            <mi>v</mi>
            <mo>,</mo>
            <msup>
              <mi>h</mi>
              <mo>′</mo>
            </msup>
            <mo stretchy="false">)</mo>
          </mrow>
        </msup>
        <mrow>
          <munder>
            <mo>∑<!-- ∑ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <msup>
                <mi>v</mi>
                <mo>″</mo>
              </msup>
              <mo>,</mo>
              <msup>
                <mi>h</mi>
                <mo>″</mo>
              </msup>
            </mrow>
          </munder>
          <msup>
            <mi>e</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>−<!-- − --></mo>
              <mi>E</mi>
              <mo stretchy="false">(</mo>
              <msup>
                <mi>v</mi>
                <mo>″</mo>
              </msup>
              <mo>,</mo>
              <msup>
                <mi>h</mi>
                <mo>″</mo>
              </msup>
              <mo stretchy="false">)</mo>
            </mrow>
          </msup>
        </mrow>
      </mfrac>
    </mrow>
  </mfrac>
  <mo>=</mo>
  <mfrac>
    <msup>
      <mi>e</mi>
      <mrow class="MJX-TeXAtom-ORD">
        <mo>−<!-- − --></mo>
        <mi>E</mi>
        <mo stretchy="false">(</mo>
        <mi>v</mi>
        <mo>,</mo>
        <mi>h</mi>
        <mo stretchy="false">)</mo>
      </mrow>
    </msup>
    <mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
    </mrow>
  </mfrac>
</mrow><annotation encoding="math/tex">p(h|v)=\frac{p(h,v)}{p(v)}=\frac{p(v,h)}{\sum_{h'}p(v,h')}=\frac{\frac{e^{-E(v,h)}}{\sum_{v'',h''}e^{-E(v'',h'')}}}{\sum_{h'}\frac{e^{-E(v,h')}}{\sum_{v'',h''}e^{-E(v'',h'')}}}=\frac{e^{-E(v,h)}}{\sum_{h'}e^{-E(v,h')}}
 </annotation></semantics></math></div><p class=""><br></p><p class="">xx</p><p class=""><br></p><p class=""></p><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics>
<mtable columnalign="right left" rowspacing=".5em" columnspacing="thickmathspace" displaystyle="true">
  <mtr>
    <mtd>
      <mfrac>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <mi>log</mi>
          <mo>⁡<!-- ⁡ --></mo>
          <mi>p</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <msub>
            <mi>w</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
              <mi>j</mi>
            </mrow>
          </msub>
        </mrow>
      </mfrac>
    </mtd>
    <mtd>
      <mo>=</mo>
      <mfrac>
        <mi mathvariant="normal">∂<!-- ∂ --></mi>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>j</mi>
          </mrow>
        </msub>
      </mfrac>
      <mo stretchy="false">(</mo>
      <mi>log</mi>
      <mo>⁡<!-- ⁡ --></mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>h</mi>
        </mrow>
      </munder>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
      <mo stretchy="false">)</mo>
      <mo>−<!-- − --></mo>
      <mfrac>
        <mi mathvariant="normal">∂<!-- ∂ --></mi>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>j</mi>
          </mrow>
        </msub>
      </mfrac>
      <mo stretchy="false">(</mo>
      <mi>log</mi>
      <mo>⁡<!-- ⁡ --></mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
      <mo stretchy="false">)</mo>
    </mtd>
  </mtr>
  <mtr>
    <mtd></mtd>
    <mtd>
      <mo>=</mo>
      <mo>−<!-- − --></mo>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <munder>
            <mo>∑<!-- ∑ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <msup>
                <mi>h</mi>
                <mo>′</mo>
              </msup>
            </mrow>
          </munder>
          <msup>
            <mi>e</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>−<!-- − --></mo>
              <mi>E</mi>
              <mo stretchy="false">(</mo>
              <mi>v</mi>
              <mo>,</mo>
              <msup>
                <mi>h</mi>
                <mo>′</mo>
              </msup>
              <mo stretchy="false">)</mo>
            </mrow>
          </msup>
        </mrow>
      </mfrac>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>h</mi>
        </mrow>
      </munder>
      <mo stretchy="false">[</mo>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
      <mfrac>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <msub>
            <mi>w</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
              <mi>j</mi>
            </mrow>
          </msub>
        </mrow>
      </mfrac>
      <mo stretchy="false">]</mo>
      <mo>+</mo>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <munder>
            <mo>∑<!-- ∑ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <msup>
                <mi>v</mi>
                <mo>″</mo>
              </msup>
              <mo>,</mo>
              <msup>
                <mi>h</mi>
                <mo>″</mo>
              </msup>
            </mrow>
          </munder>
          <msup>
            <mi>e</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>−<!-- − --></mo>
              <mi>E</mi>
              <mo stretchy="false">(</mo>
              <msup>
                <mi>v</mi>
                <mo>″</mo>
              </msup>
              <mo>,</mo>
              <msup>
                <mi>h</mi>
                <mo>″</mo>
              </msup>
              <mo stretchy="false">)</mo>
            </mrow>
          </msup>
        </mrow>
      </mfrac>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <mo stretchy="false">[</mo>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
      <mfrac>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <msub>
            <mi>w</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
              <mi>j</mi>
            </mrow>
          </msub>
        </mrow>
      </mfrac>
      <mo stretchy="false">]</mo>
    </mtd>
  </mtr>
  <mtr>
    <mtd></mtd>
    <mtd>
      <mo>=</mo>
      <mo>−<!-- − --></mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>h</mi>
        </mrow>
      </munder>
      <mo stretchy="false">[</mo>
      <mi>p</mi>
      <mo stretchy="false">(</mo>
      <mi>h</mi>
      <mrow class="MJX-TeXAtom-ORD">
        <mo stretchy="false">|</mo>
      </mrow>
      <mi>v</mi>
      <mo stretchy="false">)</mo>
      <mfrac>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <msub>
            <mi>w</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
              <mi>j</mi>
            </mrow>
          </msub>
        </mrow>
      </mfrac>
      <mo stretchy="false">]</mo>
      <mo>+</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
        </mrow>
      </munder>
      <mo stretchy="false">[</mo>
      <mi>p</mi>
      <mo stretchy="false">(</mo>
      <msup>
        <mi>v</mi>
        <mo>′</mo>
      </msup>
      <mo>,</mo>
      <msup>
        <mi>h</mi>
        <mo>′</mo>
      </msup>
      <mo stretchy="false">)</mo>
      <mfrac>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <msup>
            <mi>v</mi>
            <mo>′</mo>
          </msup>
          <mo>,</mo>
          <msup>
            <mi>h</mi>
            <mo>′</mo>
          </msup>
          <mo stretchy="false">)</mo>
        </mrow>
        <mrow>
          <mi mathvariant="normal">∂<!-- ∂ --></mi>
          <msub>
            <mi>w</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mi>i</mi>
              <mi>j</mi>
            </mrow>
          </msub>
        </mrow>
      </mfrac>
      <mo stretchy="false">]</mo>
    </mtd>
  </mtr>
</mtable>
<annotation encoding="math/tex">\eqalign{
\frac{\partial\log p(v)}{\partial w_{ij}}&amp;=\frac{\partial}{w_{ij}}(\log\sum_{h}e^{-E(v,h)})-\frac{\partial}{w_{ij}}(\log\sum_{v',h'}e^{-E(v',h')}) \\
&amp;=-\frac{1}{\sum_{h'}e^{-E(v,h')}}\sum_{h}[e^{-E(v,h)}\frac{\partial E(v,h)}{\partial w_{ij}}]+\frac{1}{\sum_{v'',h''}e^{-E(v'',h'')}}\sum_{v',h'}[e^{-E(v',h')}\frac{\partial E(v',h')}{\partial w_{ij}}] \\
&amp;=-\sum_{h}[p(h|v)\frac{\partial E(v,h)}{\partial w_{ij}}]+\sum_{v',h'}[p(v',h')\frac{\partial E(v',h')}{\partial w_{ij}}]
}</annotation></semantics></math></div><p class=""><br></p><p class="">Energy of a configuration (v,h) of RBM:<br></p><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow>
  <mi>E</mi>
  <mo stretchy="false">(</mo>
  <mi>v</mi>
  <mo>,</mo>
  <mi>h</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>j</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <munder>
      <mo>∑<!-- ∑ --></mo>
      <mi>i</mi>
    </munder>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>v</mi>
        <mi>i</mi>
      </msub>
      <msub>
        <mi>w</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
          <mi>j</mi>
        </mrow>
      </msub>
      <msub>
        <mi>h</mi>
        <mi>j</mi>
      </msub>
    </mrow>
  </mrow>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>i</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <msub>
      <mi>a</mi>
      <mi>i</mi>
    </msub>
    <msub>
      <mi>v</mi>
      <mi>i</mi>
    </msub>
  </mrow>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>j</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <msub>
      <mi>b</mi>
      <mi>j</mi>
    </msub>
    <msub>
      <mi>h</mi>
      <mi>j</mi>
    </msub>
  </mrow>
  <mspace linebreak="newline"></mspace>
  <mi>E</mi>
  <mo stretchy="false">(</mo>
  <mi>v</mi>
  <mo>,</mo>
  <mi>h</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>j</mi>
  </munder>
  <mo stretchy="false">[</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <munder>
      <mo>∑<!-- ∑ --></mo>
      <mi>i</mi>
    </munder>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>v</mi>
        <mi>i</mi>
      </msub>
      <msub>
        <mi>w</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
          <mi>j</mi>
        </mrow>
      </msub>
      <msub>
        <mi>h</mi>
        <mi>j</mi>
      </msub>
    </mrow>
    <mo>+</mo>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>b</mi>
        <mi>j</mi>
      </msub>
      <msub>
        <mi>h</mi>
        <mi>j</mi>
      </msub>
    </mrow>
  </mrow>
  <mo stretchy="false">]</mo>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>i</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <msub>
      <mi>a</mi>
      <mi>i</mi>
    </msub>
    <msub>
      <mi>v</mi>
      <mi>i</mi>
    </msub>
  </mrow>
  <mspace linebreak="newline"></mspace>
  <mi>E</mi>
  <mo stretchy="false">(</mo>
  <mi>v</mi>
  <mo>,</mo>
  <mi>h</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>j</mi>
  </munder>
  <mo stretchy="false">[</mo>
  <mrow class="MJX-TeXAtom-ORD">
    <mo stretchy="false">(</mo>
    <munder>
      <mo>∑<!-- ∑ --></mo>
      <mi>i</mi>
    </munder>
    <mrow class="MJX-TeXAtom-ORD">
      <mrow class="MJX-TeXAtom-ORD">
        <msub>
          <mi>v</mi>
          <mi>i</mi>
        </msub>
        <msub>
          <mi>w</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>i</mi>
            <mi>j</mi>
          </mrow>
        </msub>
      </mrow>
      <mo>+</mo>
      <msub>
        <mi>b</mi>
        <mi>j</mi>
      </msub>
    </mrow>
  </mrow>
  <mo stretchy="false">)</mo>
  <msub>
    <mi>h</mi>
    <mi>j</mi>
  </msub>
  <mo stretchy="false">]</mo>
  <mo>−<!-- − --></mo>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mi>i</mi>
  </munder>
  <mrow class="MJX-TeXAtom-ORD">
    <msub>
      <mi>a</mi>
      <mi>i</mi>
    </msub>
    <msub>
      <mi>v</mi>
      <mi>i</mi>
    </msub>
  </mrow>
  <mspace linebreak="newline"></mspace>
</mrow><annotation encoding="math/tex">E(v,h) = - \sum_j {\sum_i {v_i w_{ij} h_j}} - \sum_i{a_i v_i} - \sum_j{b_j h_j} \\
E(v,h) = - \sum_j [{\sum_i {v_i w_{ij} h_j} + {b_j h_j}}] - \sum_i{a_i v_i} \\
E(v,h) = - \sum_j [{(\sum_i {{v_i w_{ij}} + b_j}}) h_j] - \sum_i{a_i v_i} \\
</annotation></semantics></math></div><p class=""></p><p class=""></p><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics>
<mtable columnalign="right left" rowspacing=".5em" columnspacing="thickmathspace" displaystyle="true">
  <mtr>
    <mtd>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>−<!-- − --></mo>
          <mi>E</mi>
          <mo stretchy="false">(</mo>
          <mi>v</mi>
          <mo>,</mo>
          <mi>h</mi>
          <mo stretchy="false">)</mo>
        </mrow>
      </msup>
    </mtd>
    <mtd>
      <mo>=</mo>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <munder>
            <mo>∑<!-- ∑ --></mo>
            <mi>j</mi>
          </munder>
          <mo stretchy="false">[</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mo stretchy="false">(</mo>
            <msub>
              <mi>b</mi>
              <mi>j</mi>
            </msub>
            <mo>+</mo>
            <munder>
              <mo>∑<!-- ∑ --></mo>
              <mi>i</mi>
            </munder>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <msub>
                  <mi>v</mi>
                  <mi>i</mi>
                </msub>
                <msub>
                  <mi>w</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mi>i</mi>
                    <mi>j</mi>
                  </mrow>
                </msub>
              </mrow>
            </mrow>
          </mrow>
          <mo stretchy="false">)</mo>
          <msub>
            <mi>h</mi>
            <mi>j</mi>
          </msub>
          <mo stretchy="false">]</mo>
        </mrow>
      </msup>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <munder>
            <mo>∑<!-- ∑ --></mo>
            <mi>i</mi>
          </munder>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>a</mi>
              <mi>i</mi>
            </msub>
            <msub>
              <mi>v</mi>
              <mi>i</mi>
            </msub>
          </mrow>
        </mrow>
      </msup>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mi>h</mi>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <munder>
              <mo>∑<!-- ∑ --></mo>
              <mi>j</mi>
            </munder>
            <mrow class="MJX-TeXAtom-ORD">
              <msub>
                <mi>h</mi>
                <mi>j</mi>
              </msub>
            </mrow>
          </mrow>
        </msup>
      </mrow>
    </mtd>
    <mtd>
      <mo>=</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mi>h</mi>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </msup>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>2</mn>
            </msub>
          </mrow>
        </msup>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </msup>
      </mrow>
      <mo>=</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mn>1</mn>
          </msub>
          <mo>,</mo>
          <msub>
            <mi>h</mi>
            <mn>2</mn>
          </msub>
          <mo>,</mo>
          <mo>.</mo>
          <mo>.</mo>
          <mo>.</mo>
          <mo>,</mo>
          <msub>
            <mi>h</mi>
            <mi>j</mi>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </msup>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>2</mn>
            </msub>
          </mrow>
        </msup>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </msup>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd></mtd>
    <mtd>
      <mo>=</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </munder>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </munder>
      <mo>.</mo>
      <mo>.</mo>
      <mo>.</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mi>j</mi>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </msup>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>2</mn>
            </msub>
          </mrow>
        </msup>
        <mo>.</mo>
        <mo>.</mo>
        <mo>.</mo>
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </msup>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd></mtd>
    <mtd>
      <mo>=</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </msup>
      </mrow>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mn>2</mn>
            </msub>
          </mrow>
        </msup>
      </mrow>
      <mo>.</mo>
      <mo>.</mo>
      <mo>.</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mi>j</mi>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </msup>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd></mtd>
    <mtd>
      <mo>=</mo>
      <munder>
        <mo>∏<!-- ∏ --></mo>
        <mi>j</mi>
      </munder>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mi>j</mi>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>h</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </msup>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mi>h</mi>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>−<!-- − --></mo>
            <mi>E</mi>
            <mo stretchy="false">(</mo>
            <mi>v</mi>
            <mo>,</mo>
            <mi>h</mi>
            <mo stretchy="false">)</mo>
          </mrow>
        </msup>
      </mrow>
    </mtd>
    <mtd>
      <mo>=</mo>
      <msup>
        <mi>e</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <munder>
            <mo>∑<!-- ∑ --></mo>
            <mi>i</mi>
          </munder>
          <mrow class="MJX-TeXAtom-ORD">
            <msub>
              <mi>a</mi>
              <mi>i</mi>
            </msub>
            <msub>
              <mi>v</mi>
              <mi>i</mi>
            </msub>
          </mrow>
        </mrow>
      </msup>
      <munder>
        <mo>∏<!-- ∏ --></mo>
        <mi>j</mi>
      </munder>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <msub>
            <mi>h</mi>
            <mi>j</mi>
          </msub>
        </mrow>
      </munder>
      <mrow class="MJX-TeXAtom-ORD">
        <msup>
          <mi>e</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">(</mo>
              <msub>
                <mi>b</mi>
                <mi>j</mi>
              </msub>
              <mo>+</mo>
              <munder>
                <mo>∑<!-- ∑ --></mo>
                <mi>i</mi>
              </munder>
              <mrow class="MJX-TeXAtom-ORD">
                <mrow class="MJX-TeXAtom-ORD">
                  <msub>
                    <mi>v</mi>
                    <mi>i</mi>
                  </msub>
                  <msub>
                    <mi>w</mi>
                    <mrow class="MJX-TeXAtom-ORD">
                      <mi>i</mi>
                      <mi>j</mi>
                    </mrow>
                  </msub>
                </mrow>
              </mrow>
            </mrow>
            <mo stretchy="false">)</mo>
            <msub>
              <mi>h</mi>
              <mi>j</mi>
            </msub>
          </mrow>
        </msup>
      </mrow>
    </mtd>
  </mtr>
</mtable>
<annotation encoding="math/tex">\eqalign{
e^{-E(v, h)} &amp;= e^{\sum_j [{(b_j + \sum_i {{v_i w_{ij}} }}) h_j]} e^{\sum_i{a_i v_i}} \\
\sum_h {e^{\sum_j {h_j}}} &amp;= \sum_h { e^{h_1} e^{h_2} ... e^{h_j} } = \sum_{h_1, h_2, ..., h_j} { e^{h_1} e^{h_2} ... e^{h_j} } \\
&amp;= \sum_{h_1} \sum_{h_2}... \sum_{h_j} { e^{h_1} e^{h_2} ... e^{h_j} } \\
&amp;= \sum_{h_1} {e^{h_1}} \sum_{h_2} {e^{h_2}} ...  \sum_{h_j} {e^{h_j}} \\
&amp;= \prod_j \sum_{h_j} {e^{h_j}} \\
\sum_h {e^{-E(v, h)}} &amp;= e^{\sum_i{a_i v_i}} \prod_j \sum_{h_j} {e^{{(b_j + \sum_i {{v_i w_{ij}} }}) h_j}}
}</annotation></semantics></math></div><p class="" style="">Since <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics>
<mstyle displaystyle="true">
  <msub>
    <mi>h</mi>
    <mi>j</mi>
  </msub>
</mstyle>
<annotation encoding="math/asciimath">h_j</annotation></semantics></math> is a binary unit,&nbsp;<math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>h</mi>
        <mi>j</mi>
      </msub>
    </mrow>
  </munder>
  <msub>
    <mi>h</mi>
    <mi>j</mi>
  </msub>
  <mo>=</mo>
  <msub>
    <mi>h</mi>
    <mn>1</mn>
  </msub>
  <mo>+</mo>
  <msub>
    <mi>h</mi>
    <mn>2</mn>
  </msub>
  <mo>=</mo>
  <mn>0</mn>
  <mo>+</mo>
  <mn>1</mn>
  <mo>=</mo>
  <mn>1</mn>
</mrow><annotation encoding="math/tex">\sum_{h_j} h_j = h_1 + h_2 = 0 + 1 = 1</annotation></semantics></math>, we get:</p><p class="" style=""></p><p class="" style=""></p><div class="equation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow>
  <mi>p</mi>
  <mo stretchy="false">(</mo>
  <mi>v</mi>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <mfrac>
    <mn>1</mn>
    <mi>Z</mi>
  </mfrac>
  <munder>
    <mo>∑<!-- ∑ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <mi>h</mi>
    </mrow>
  </munder>
  <msup>
    <mi>e</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <mo>−<!-- − --></mo>
      <mi>E</mi>
      <mo stretchy="false">(</mo>
      <mi>v</mi>
      <mo>,</mo>
      <mi>h</mi>
      <mo stretchy="false">)</mo>
    </mrow>
  </msup>
  <mo>=</mo>
  <mfrac>
    <mn>1</mn>
    <mi>Z</mi>
  </mfrac>
  <munder>
    <mo>∏<!-- ∏ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <mi>i</mi>
    </mrow>
  </munder>
  <msup>
    <mi>e</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>a</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
        </mrow>
      </msub>
      <msub>
        <mi>v</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
        </mrow>
      </msub>
    </mrow>
  </msup>
  <munder>
    <mo>∏<!-- ∏ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <mi>j</mi>
    </mrow>
  </munder>
  <mo stretchy="false">(</mo>
  <mn>1</mn>
  <mo>+</mo>
  <msup>
    <mi>e</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <msub>
        <mi>b</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>j</mi>
        </mrow>
      </msub>
      <mo>+</mo>
      <munder>
        <mo>∑<!-- ∑ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
        </mrow>
      </munder>
      <msub>
        <mi>v</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
        </mrow>
      </msub>
      <msub>
        <mi>w</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mi>i</mi>
          <mi>j</mi>
        </mrow>
      </msub>
    </mrow>
  </msup>
  <mo stretchy="false">)</mo>
</mrow><annotation encoding="math/tex">p(v)=\frac{1}{Z}\sum_{h}e^{-E(v,h)}=\frac{1}{Z}\prod_{i}e^{a_{i}v_{i}}\prod_{j}(1+e^{b_{j}+\sum_{i}v_{i}w_{ij}})</annotation></semantics></math></div><p class="" style=""><br></p><p class="" style="">xx</p><p class=""></p><p class=""></p><p class=""></p><p class=""><br></p><p class="">Let</p><p class=""></p><p class=""><br></p><p class="">xx</p><p class=""></p><p class=""><br></p><p class="">xx</p><h3 style="">Hopfield Network</h3><p><br></p><ul><li>http://www.neuralnetworksolutions.com/nn/unsupervised1.php</li></ul><p><br></p><h3 style="">Energy-Based Models&nbsp;</h3><p><br></p><ul><li>http://deeplearning.net/tutorial/rbm.html</li><li style="">http://www.quora.com/Deep-Learning/Why-is-the-energy-function-of-the-Restricted-Boltzmann-Machine-defined-the-way-it-is-defined<br>&nbsp;<br style=""></li></ul><p><br></p><h3>Articles</h3><p><br></p><ul><li>Training Restricted Boltzmann Machines: An Introduction. Asja Fischer and Christian Igel</li></ul><p class=""><br></p><p><br> </p><h3>Blogs</h3><p><br></p><ul><li>http://theneural.wordpress.com/</li><li style="">http://karpathy.github.io/neuralnets/ <br></li></ul>